{
  "Name": "Create Instance",
  "Description": "Creates new instance for a specific AMI (Amazon Machine Image).\nFor more information:\nhttps://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2.html#EC2.Client.run_instances",
  "Script": "from SiemplifyAction import SiemplifyAction\nfrom SiemplifyUtils import output_handler\nfrom ScriptResult import EXECUTION_STATE_COMPLETED, EXECUTION_STATE_INPROGRESS\nfrom EC2Manager import EC2Manager\nimport json, sys\n\nIDENTIFIER = \"AWS - EC2\"\nSCRIPT_NAME = \"AWS EC2 - Create Instance\"\n\n@output_handler\ndef main(is_first_run):\n    siemplify = SiemplifyAction()\n    siemplify.script_name = SCRIPT_NAME\n    mode = \"Main\" if is_first_run else \"InstanceState\"\n    \n    output_message = [\"\"]\n    status = EXECUTION_STATE_COMPLETED\n    result_value = True\n    \n    json_result = {}\n    \n    #Extracting the integration parameters\n    access_key_id = siemplify.extract_configuration_param(IDENTIFIER,\"Access Key ID\")\n    secret_access_key = siemplify.extract_configuration_param(IDENTIFIER, \"Secret Access Key\")\n    default_region = siemplify.extract_configuration_param(IDENTIFIER, \"Default Region\")\n    \n    #Extracting the action parameters\n    image_id = siemplify.extract_action_param(\"Image ID\")\n    instance_type = siemplify.extract_action_param(\"Instance Type\")\n    max_count = siemplify.extract_action_param(\"Max Count\", input_type=int)\n    min_count = siemplify.extract_action_param(\"Min Count\", input_type=int)\n    security_groups_id = siemplify.extract_action_param(\"Security Group ID\")\n\n    #Creating an instance of EC2Manager object\n    ec2_manager = EC2Manager(access_key_id, secret_access_key, default_region)\n    \n    if is_first_run:\n        pending_instances_ids = []\n        try:\n            instances_details = ec2_manager.create_instance(image_id, instance_type, max_count, min_count, security_groups_id)\n            for instance in instances_details[\"Instances\"]:\n                instance_id = instance.get(\"InstanceId\")\n                instance_state =instance.get(\"State\").get(\"Name\")\n\n                if instance_state == \"pending\":\n                    siemplify.LOGGER.info(f\"The instance {instance_id} is pending.\")\n                    pending_instances_ids.append(instance_id)\n                    \n                elif instance_state == \"running\":\n                    siemplify.LOGGER.info(f\"The instance {instance_id} was created successfully\")\n                    json_result[instance_id] = instances_details\n                    \n                else:\n                    raise Exception (f\"Error occured when creating the instance for the Image {image_id}.\")\n\n            if len(pending_instances_ids) > 0:\n                status = EXECUTION_STATE_INPROGRESS\n                result_value = json.dumps(pending_instances_ids)\n                output_message.append(\"The following instances are pending:\\n{}\".format(pending_instances_ids))\n                \n        except Exception as e:\n            siemplify.LOGGER.error(f\"Error occured when creating the instance for the Image: {image_id}.\\nError: {e}\")\n\n    else:\n        new_pending_instances_ids = []\n\n        instances_to_check_the_state = json.loads(siemplify.parameters[u\"additional_data\"])\n        for instance in instances_to_check_the_state:\n            instance_details = ec2_manager.describe_instances(instance)\n            instance_id = instance_details.get(\"Reservations\")[0].get(\"Instances\")[0].get(\"InstanceId\")\n            current_instance_state = instance_details.get(\"Reservations\")[0].get(\"Instances\")[0].get(\"State\").get(\"Name\")\n\n            if current_instance_state == \"pending\":\n                siemplify.LOGGER.info(f\"The instance {instance_id} is still pending.\")\n                new_pending_instances_ids.append(instance_id)\n                \n            elif current_instance_state == \"running\":\n                json_result[instance] = instance_details\n                siemplify.LOGGER.info(f\"The instance {instance_id} was created successfully\")\n                \n            else:\n                raise Exception (f\"Error occured when creating the instance for the image {image_id}.\")\n                \n        if len(new_pending_instances_ids) > 0:\n            status = EXECUTION_STATE_INPROGRESS\n            result_value = json.dumps(new_pending_instances_ids)\n            output_message.append(u\"The following instances are still pending:\\n{}\".format(new_pending_instances_ids))\n\n        else:\n            status = EXECUTION_STATE_COMPLETED\n            result_value = True\n            output_message.append(f\"The instance of the Image {image_id} was created successfully.\")\n            \n    siemplify.result.add_result_json(json_result)\n    siemplify.end(\"\\n\".join(output_message), result_value, status)\n\nif __name__ == \"__main__\":\n    is_first_run = len(sys.argv) < 3 or sys.argv[2] == u'True'\n    main(is_first_run)\n",
  "IntegrationIdentifier": "AWS - EC2",
  "ScriptResultName": "ScriptResult",
  "DynamicResultsMetadata": [
    {
      "ResultName": "JsonResult",
      "ResultExample": "{\r\n\t\"Groups\": [],\r\n\t\"Instances\": [{\r\n\t\t\t\"AmiLaunchIndex\": \"0\",\r\n\t\t\t\"ImageId\": \"ami-11\",\r\n\t\t\t\"InstanceId\": \"11111\",\r\n\t\t\t\"InstanceType\": \"m1.small\",\r\n\t\t\t\"LaunchTime\": \"\",\r\n\t\t\t\"Monitoring\": {\r\n\t\t\t\t\"State\": \"disabled\"\r\n\t\t\t},\r\n\t\t\t\"Placement\": {\r\n\t\t\t\t\"AvailabilityZone\": \"us-east-1c\",\r\n\t\t\t\t\"GroupName\": \"\",\r\n\t\t\t\t\"Tenancy\": \"default\"\r\n\t\t\t},\r\n\t\t\t\"PrivateDnsName\": \"ip-.ec2.internal\",\r\n\t\t\t\"PrivateIpAddress\": \"172.1.1.1\",\r\n\t\t\t\"ProductCodes\": [],\r\n\t\t\t\"PublicDnsName\": \"\",\r\n\t\t\t\"State\": {\r\n\t\t\t\t\"Code\": 0,\r\n\t\t\t\t\"Name\": \"pending\"\r\n\t\t\t},\r\n\t\t\t\"StateTransitionReason\": \"\",\r\n\t\t\t\"SubnetId\": \"subnet-1111\",\r\n\t\t\t\"VpcId\": \"vpc-1111\",\r\n\t\t\t\"Architecture\": \"x86_64\",\r\n\t\t\t\"BlockDeviceMappings\": [],\r\n\t\t\t\"ClientToken\": \"12345678\",\r\n\t\t\t\"EbsOptimized\": \"False\",\r\n\t\t\t\"EnaSupport\": \"True\",\r\n\t\t\t\"Hypervisor\": \"xen\",\r\n\t\t\t\"NetworkInterfaces\": [{\r\n\t\t\t\t\"Attachment\": {\r\n\t\t\t\t\t\"AttachTime\": \"\",\r\n\t\t\t\t\t\"AttachmentId\": \"eni-attach-11111\",\r\n\t\t\t\t\t\"DeleteOnTermination\": \"True\",\r\n\t\t\t\t\t\"DeviceIndex\": \"0\",\r\n\t\t\t\t\t\"Status\": \"attaching\",\r\n\t\t\t\t\t\"NetworkCardIndex\": \"0\"\r\n\t\t\t\t},\r\n\t\t\t\t\"Description\": \"\",\r\n\t\t\t\t\"Groups\": [{\r\n\t\t\t\t\t\"GroupName\": \"EC2-demo-instance\",\r\n\t\t\t\t\t\"GroupId\": \"sg-11111\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"Ipv6Addresses\": [],\r\n\t\t\t\t\"MacAddress\": \"02:7e:13:89:2e:a1\",\r\n\t\t\t\t\"NetworkInterfaceId\": \"eni-11111\",\r\n\t\t\t\t\"OwnerId\": \"582302349248\",\r\n\t\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\t\"PrivateIpAddress\": \"172.1.1.1\",\r\n\t\t\t\t\"PrivateIpAddresses\": [{\r\n\t\t\t\t\t\"Primary\": \"True\",\r\n\t\t\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\t\t\"PrivateIpAddress\": \"172.1.1.1\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"SourceDestCheck\": \"True\",\r\n\t\t\t\t\"Status\": \"in-use\",\r\n\t\t\t\t\"SubnetId\": \"subnet-1111\",\r\n\t\t\t\t\"VpcId\": \"vpc-1111\",\r\n\t\t\t\t\"InterfaceType\": \"interface\"\r\n\t\t\t}],\r\n\t\t\t\"RootDeviceName\": \"/dev/sda1\",\r\n\t\t\t\"RootDeviceType\": \"ebs\",\r\n\t\t\t\"SecurityGroups\": [{\r\n\t\t\t\t\"GroupName\": \"EC2-demo-instance\",\r\n\t\t\t\t\"GroupId\": \"sg-1111\"\r\n\t\t\t}],\r\n\t\t\t\"SourceDestCheck\": \"True\",\r\n\t\t\t\"StateReason\": {\r\n\t\t\t\t\"Code\": \"pending\",\r\n\t\t\t\t\"Message\": \"pending\"\r\n\t\t\t},\r\n\t\t\t\"VirtualizationType\": \"hvm\",\r\n\t\t\t\"CpuOptions\": {\r\n\t\t\t\t\"CoreCount\": 1,\r\n\t\t\t\t\"ThreadsPerCore\": 1\r\n\t\t\t},\r\n\t\t\t\"CapacityReservationSpecification\": {\r\n\t\t\t\t\"CapacityReservationPreference\": \"open\"\r\n\t\t\t},\r\n\t\t\t\"MetadataOptions\": {\r\n\t\t\t\t\"State\": \"pending\",\r\n\t\t\t\t\"HttpTokens\": \"optional\",\r\n\t\t\t\t\"HttpPutResponseHopLimit\": 1,\r\n\t\t\t\t\"HttpEndpoint\": \"enabled\"\r\n\t\t\t},\r\n\t\t\t\"EnclaveOptions\": {\r\n\t\t\t\t\"Enabled\": \"False\"\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"AmiLaunchIndex\": 1,\r\n\t\t\t\"ImageId\": \"ami-1111\",\r\n\t\t\t\"InstanceId\": \"i-1111\",\r\n\t\t\t\"InstanceType\": \"m1.small\",\r\n\t\t\t\"LaunchTime\": \"\",\r\n\t\t\t\"Monitoring\": {\r\n\t\t\t\t\"State\": \"disabled\"\r\n\t\t\t},\r\n\t\t\t\"Placement\": {\r\n\t\t\t\t\"AvailabilityZone\": \"us-east-1c\",\r\n\t\t\t\t\"GroupName\": \"\",\r\n\t\t\t\t\"Tenancy\": \"default\"\r\n\t\t\t},\r\n\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\"PrivateIpAddress\": \"172.1.1.1\",\r\n\t\t\t\"ProductCodes\": [],\r\n\t\t\t\"PublicDnsName\": \"\",\r\n\t\t\t\"State\": {\r\n\t\t\t\t\"Code\": 0,\r\n\t\t\t\t\"Name\": \"pending\"\r\n\t\t\t},\r\n\t\t\t\"StateTransitionReason\": \"\",\r\n\t\t\t\"SubnetId\": \"subnet-1111\",\r\n\t\t\t\"VpcId\": \"vpc-1111\",\r\n\t\t\t\"Architecture\": \"x86_64\",\r\n\t\t\t\"BlockDeviceMappings\": [],\r\n\t\t\t\"ClientToken\": \"1111\",\r\n\t\t\t\"EbsOptimized\": \"False\",\r\n\t\t\t\"EnaSupport\": \"True\",\r\n\t\t\t\"Hypervisor\": \"xen\",\r\n\t\t\t\"NetworkInterfaces\": [{\r\n\t\t\t\t\"Attachment\": {\r\n\t\t\t\t\t\"AttachTime\": \"\",\r\n\t\t\t\t\t\"AttachmentId\": \"eni-attach-1111\",\r\n\t\t\t\t\t\"DeleteOnTermination\": \"True\",\r\n\t\t\t\t\t\"DeviceIndex\": \"0\",\r\n\t\t\t\t\t\"Status\": \"attaching\",\r\n\t\t\t\t\t\"NetworkCardIndex\": \"0\"\r\n\t\t\t\t},\r\n\t\t\t\t\"Description\": \"\",\r\n\t\t\t\t\"Groups\": [{\r\n\t\t\t\t\t\"GroupName\": \"EC2-demo-instance\",\r\n\t\t\t\t\t\"GroupId\": \"sg-1111\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"Ipv6Addresses\": [],\r\n\t\t\t\t\"MacAddress\": \"02:fc:4b:be:8d:d7\",\r\n\t\t\t\t\"NetworkInterfaceId\": \"eni-1111\",\r\n\t\t\t\t\"OwnerId\": \"123456\",\r\n\t\t\t\t\"PrivateDnsName\": \"ip-172-31-12-93.ec2.internal\",\r\n\t\t\t\t\"PrivateIpAddress\": \"172.31.12.93\",\r\n\t\t\t\t\"PrivateIpAddresses\": [{\r\n\t\t\t\t\t\"Primary\": \"True\",\r\n\t\t\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\t\t\"PrivateIpAddress\": \"172.1.1.1\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"SourceDestCheck\": \"True\",\r\n\t\t\t\t\"Status\": \"in-use\",\r\n\t\t\t\t\"SubnetId\": \"subnet-1111\",\r\n\t\t\t\t\"VpcId\": \"vpc-1111\",\r\n\t\t\t\t\"InterfaceType\": \"interface\"\r\n\t\t\t}],\r\n\t\t\t\"RootDeviceName\": \"/dev/sda1\",\r\n\t\t\t\"RootDeviceType\": \"ebs\",\r\n\t\t\t\"SecurityGroups\": [{\r\n\t\t\t\t\"GroupName\": \"EC2-demo-instance\",\r\n\t\t\t\t\"GroupId\": \"sg-1111\"\r\n\t\t\t}],\r\n\t\t\t\"SourceDestCheck\": \"True\",\r\n\t\t\t\"StateReason\": {\r\n\t\t\t\t\"Code\": \"pending\",\r\n\t\t\t\t\"Message\": \"pending\"\r\n\t\t\t},\r\n\t\t\t\"VirtualizationType\": \"hvm\",\r\n\t\t\t\"CpuOptions\": {\r\n\t\t\t\t\"CoreCount\": 1,\r\n\t\t\t\t\"ThreadsPerCore\": 1\r\n\t\t\t},\r\n\t\t\t\"CapacityReservationSpecification\": {\r\n\t\t\t\t\"CapacityReservationPreference\": \"open\"\r\n\t\t\t},\r\n\t\t\t\"MetadataOptions\": {\r\n\t\t\t\t\"State\": \"pending\",\r\n\t\t\t\t\"HttpTokens\": \"optional\",\r\n\t\t\t\t\"HttpPutResponseHopLimit\": 1,\r\n\t\t\t\t\"HttpEndpoint\": \"enabled\"\r\n\t\t\t},\r\n\t\t\t\"EnclaveOptions\": {\r\n\t\t\t\t\"Enabled\": \"False\"\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"AmiLaunchIndex\": 2,\r\n\t\t\t\"ImageId\": \"ami-1111\",\r\n\t\t\t\"InstanceId\": \"i-1111\",\r\n\t\t\t\"InstanceType\": \"m1.small\",\r\n\t\t\t\"LaunchTime\": \"\",\r\n\t\t\t\"Monitoring\": {\r\n\t\t\t\t\"State\": \"disabled\"\r\n\t\t\t},\r\n\t\t\t\"Placement\": {\r\n\t\t\t\t\"AvailabilityZone\": \"us-east-1c\",\r\n\t\t\t\t\"GroupName\": \"\",\r\n\t\t\t\t\"Tenancy\": \"default\"\r\n\t\t\t},\r\n\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\"PrivateIpAddress\": \"172.1.1.1\",\r\n\t\t\t\"ProductCodes\": [],\r\n\t\t\t\"PublicDnsName\": \"\",\r\n\t\t\t\"State\": {\r\n\t\t\t\t\"Code\": \"\",\r\n\t\t\t\t\"Name\": \"pending\"\r\n\t\t\t},\r\n\t\t\t\"StateTransitionReason\": \"\",\r\n\t\t\t\"SubnetId\": \"subnet-1111\",\r\n\t\t\t\"VpcId\": \"vpc-1111\",\r\n\t\t\t\"Architecture\": \"x86_64\",\r\n\t\t\t\"BlockDeviceMappings\": [],\r\n\t\t\t\"ClientToken\": \"1111\",\r\n\t\t\t\"EbsOptimized\": \"False\",\r\n\t\t\t\"EnaSupport\": \"True\",\r\n\t\t\t\"Hypervisor\": \"xen\",\r\n\t\t\t\"NetworkInterfaces\": [{\r\n\t\t\t\t\"Attachment\": {\r\n\t\t\t\t\t\"AttachTime\": \"\",\r\n\t\t\t\t\t\"AttachmentId\": \"eni-attach-1111\",\r\n\t\t\t\t\t\"DeleteOnTermination\": \"True\",\r\n\t\t\t\t\t\"DeviceIndex\": \"\",\r\n\t\t\t\t\t\"Status\": \"attaching\",\r\n\t\t\t\t\t\"NetworkCardIndex\": \"\"\r\n\t\t\t\t},\r\n\t\t\t\t\"Description\": \"\",\r\n\t\t\t\t\"Groups\": [{\r\n\t\t\t\t\t\"GroupName\": \"EC2-demo-instance\",\r\n\t\t\t\t\t\"GroupId\": \"sg-1111\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"Ipv6Addresses\": [],\r\n\t\t\t\t\"MacAddress\": \"02:14:93:3b:f3:5b\",\r\n\t\t\t\t\"NetworkInterfaceId\": \"eni-1111\",\r\n\t\t\t\t\"OwnerId\": \"123456\",\r\n\t\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\t\"PrivateIpAddress\": \"172.1.1.1\",\r\n\t\t\t\t\"PrivateIpAddresses\": [{\r\n\t\t\t\t\t\"Primary\": \"True\",\r\n\t\t\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\t\t\"PrivateIpAddress\": \"172.1.1.1\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"SourceDestCheck\": \"True\",\r\n\t\t\t\t\"Status\": \"in-use\",\r\n\t\t\t\t\"SubnetId\": \"subnet-1111\",\r\n\t\t\t\t\"VpcId\": \"vpc-1111\",\r\n\t\t\t\t\"InterfaceType\": \"interface\"\r\n\t\t\t}],\r\n\t\t\t\"RootDeviceName\": \"/dev/sda1\",\r\n\t\t\t\"RootDeviceType\": \"ebs\",\r\n\t\t\t\"SecurityGroups\": [{\r\n\t\t\t\t\"GroupName\": \"EC2-demo-instance\",\r\n\t\t\t\t\"GroupId\": \"sg-1111\"\r\n\t\t\t}],\r\n\t\t\t\"SourceDestCheck\": \"True\",\r\n\t\t\t\"StateReason\": {\r\n\t\t\t\t\"Code\": \"pending\",\r\n\t\t\t\t\"Message\": \"pending\"\r\n\t\t\t},\r\n\t\t\t\"VirtualizationType\": \"hvm\",\r\n\t\t\t\"CpuOptions\": {\r\n\t\t\t\t\"CoreCount\": 1,\r\n\t\t\t\t\"ThreadsPerCore\": 1\r\n\t\t\t},\r\n\t\t\t\"CapacityReservationSpecification\": {\r\n\t\t\t\t\"CapacityReservationPreference\": \"open\"\r\n\t\t\t},\r\n\t\t\t\"MetadataOptions\": {\r\n\t\t\t\t\"State\": \"pending\",\r\n\t\t\t\t\"HttpTokens\": \"optional\",\r\n\t\t\t\t\"HttpPutResponseHopLimit\": 1,\r\n\t\t\t\t\"HttpEndpoint\": \"enabled\"\r\n\t\t\t},\r\n\t\t\t\"EnclaveOptions\": {\r\n\t\t\t\t\"Enabled\": \"False\"\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"AmiLaunchIndex\": 3,\r\n\t\t\t\"ImageId\": \"ami-1111\",\r\n\t\t\t\"InstanceId\": \"i-1111\",\r\n\t\t\t\"InstanceType\": \"m1.small\",\r\n\t\t\t\"LaunchTime\": \"\",\r\n\t\t\t\"Monitoring\": {\r\n\t\t\t\t\"State\": \"disabled\"\r\n\t\t\t},\r\n\t\t\t\"Placement\": {\r\n\t\t\t\t\"AvailabilityZone\": \"us-east-1c\",\r\n\t\t\t\t\"GroupName\": \"\",\r\n\t\t\t\t\"Tenancy\": \"default\"\r\n\t\t\t},\r\n\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\"PrivateIpAddress\": \"172.1.1.1\",\r\n\t\t\t\"ProductCodes\": [],\r\n\t\t\t\"PublicDnsName\": \"\",\r\n\t\t\t\"State\": {\r\n\t\t\t\t\"Code\": 0,\r\n\t\t\t\t\"Name\": \"pending\"\r\n\t\t\t},\r\n\t\t\t\"StateTransitionReason\": \"\",\r\n\t\t\t\"SubnetId\": \"subnet-1111\",\r\n\t\t\t\"VpcId\": \"vpc-1111\",\r\n\t\t\t\"Architecture\": \"x86_64\",\r\n\t\t\t\"BlockDeviceMappings\": [],\r\n\t\t\t\"ClientToken\": \"1111\",\r\n\t\t\t\"EbsOptimized\": \"False\",\r\n\t\t\t\"EnaSupport\": \"True\",\r\n\t\t\t\"Hypervisor\": \"xen\",\r\n\t\t\t\"NetworkInterfaces\": [{\r\n\t\t\t\t\"Attachment\": {\r\n\t\t\t\t\t\"AttachTime\": \"\",\r\n\t\t\t\t\t\"AttachmentId\": \"eni-attach-1111\",\r\n\t\t\t\t\t\"DeleteOnTermination\": \"True\",\r\n\t\t\t\t\t\"DeviceIndex\": \"\",\r\n\t\t\t\t\t\"Status\": \"attaching\",\r\n\t\t\t\t\t\"NetworkCardIndex\": \"\"\r\n\t\t\t\t},\r\n\t\t\t\t\"Description\": \"\",\r\n\t\t\t\t\"Groups\": [{\r\n\t\t\t\t\t\"GroupName\": \"EC2-demo-instance\",\r\n\t\t\t\t\t\"GroupId\": \"sg-1111\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"Ipv6Addresses\": [],\r\n\t\t\t\t\"MacAddress\": \"02:4c:0c:d0:5b:cf\",\r\n\t\t\t\t\"NetworkInterfaceId\": \"eni-1111\",\r\n\t\t\t\t\"OwnerId\": \"582302349248\",\r\n\t\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\t\"PrivateIpAddress\": \"172.1.1.1\",\r\n\t\t\t\t\"PrivateIpAddresses\": [{\r\n\t\t\t\t\t\"Primary\": \"True\",\r\n\t\t\t\t\t\"PrivateDnsName\": \"ip-172-1-1-1.ec2.internal\",\r\n\t\t\t\t\t\"PrivateIpAddress\": \"172.1.1.1\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"SourceDestCheck\": \"True\",\r\n\t\t\t\t\"Status\": \"in-use\",\r\n\t\t\t\t\"SubnetId\": \"subnet-1111\",\r\n\t\t\t\t\"VpcId\": \"vpc-1111\",\r\n\t\t\t\t\"InterfaceType\": \"interface\"\r\n\t\t\t}],\r\n\t\t\t\"RootDeviceName\": \"/dev/sda1\",\r\n\t\t\t\"RootDeviceType\": \"ebs\",\r\n\t\t\t\"SecurityGroups\": [{\r\n\t\t\t\t\"GroupName\": \"EC2-demo-instance\",\r\n\t\t\t\t\"GroupId\": \"sg-1111\"\r\n\t\t\t}],\r\n\t\t\t\"SourceDestCheck\": \"True\",\r\n\t\t\t\"StateReason\": {\r\n\t\t\t\t\"Code\": \"pending\",\r\n\t\t\t\t\"Message\": \"pending\"\r\n\t\t\t},\r\n\t\t\t\"VirtualizationType\": \"hvm\",\r\n\t\t\t\"CpuOptions\": {\r\n\t\t\t\t\"CoreCount\": \"\",\r\n\t\t\t\t\"ThreadsPerCore\": \"\"\r\n\t\t\t},\r\n\t\t\t\"CapacityReservationSpecification\": {\r\n\t\t\t\t\"CapacityReservationPreference\": \"open\"\r\n\t\t\t},\r\n\t\t\t\"MetadataOptions\": {\r\n\t\t\t\t\"State\": \"pending\",\r\n\t\t\t\t\"HttpTokens\": \"optional\",\r\n\t\t\t\t\"HttpPutResponseHopLimit\": \"\",\r\n\t\t\t\t\"HttpEndpoint\": \"enabled\"\r\n\t\t\t},\r\n\t\t\t\"EnclaveOptions\": {\r\n\t\t\t\t\"Enabled\": \"False\"\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t\"OwnerId\": \"123456\",\r\n\t\"ReservationId\": \"r-1111\",\r\n\t\"ResponseMetadata\": {\r\n\t\t\"RequestId\": \"1111\",\r\n\t\t\"HTTPStatusCode\": \"200\",\r\n\t\t\"HTTPHeaders\": {\r\n\t\t\t\"x-amzn-requestid\": \"1111\",\r\n\t\t\t\"content-type\": \"text/xml;charset=UTF-8\",\r\n\t\t\t\"transfer-encoding\": \"chunked\",\r\n\t\t\t\"vary\": \"accept-encoding\",\r\n\t\t\t\"date\": \"Thu, 03 Dec 2020 11:44:12 GMT\",\r\n\t\t\t\"server\": \"AmazonEC2\"\r\n\t\t},\r\n\t\t\"RetryAttempts\": \"\"\r\n\t}\r\n}",
      "ShowResult": true
    }
  ],
  "Creator": "TehilaGourary",
  "IsEnabled": true,
  "IsCustom": false,
  "IsSystem": false,
  "Version": 138.0,
  "TimeoutSeconds": 300,
  "Parameters": [
    {
      "CustomActionId": 0,
      "IsMandatory": false,
      "DefaultValue": "ami-12345",
      "Description": "The AMI ID which you want to create a new instance to.\nFor example: ami-12345",
      "Name": "Image ID",
      "Value": "ami-12345",
      "Type": 0,
      "OptionalValues": null,
      "OptionalValuesJson": null,
      "Id": 0,
      "CreationTimeUnixTimeInMs": 1609172479093,
      "ModificationTimeUnixTimeInMs": 1609172479093
    },
    {
      "CustomActionId": 0,
      "IsMandatory": false,
      "DefaultValue": "m1.small",
      "Description": "The hardware of the host computer to use in your instance.\nFor example :m1.small",
      "Name": "Instance Type",
      "Value": "m1.small",
      "Type": 0,
      "OptionalValues": null,
      "OptionalValuesJson": null,
      "Id": 0,
      "CreationTimeUnixTimeInMs": 1609172479093,
      "ModificationTimeUnixTimeInMs": 1609172479093
    },
    {
      "CustomActionId": 0,
      "IsMandatory": true,
      "DefaultValue": " ",
      "Description": "The maximum amount of instances to create.",
      "Name": "Max Count",
      "Value": " ",
      "Type": 0,
      "OptionalValues": null,
      "OptionalValuesJson": null,
      "Id": 0,
      "CreationTimeUnixTimeInMs": 1609172479093,
      "ModificationTimeUnixTimeInMs": 1609172479093
    },
    {
      "CustomActionId": 0,
      "IsMandatory": true,
      "DefaultValue": " ",
      "Description": "The minimum number of instances to create.",
      "Name": "Min Count",
      "Value": " ",
      "Type": 0,
      "OptionalValues": null,
      "OptionalValuesJson": null,
      "Id": 0,
      "CreationTimeUnixTimeInMs": 1609172479093,
      "ModificationTimeUnixTimeInMs": 1609172479093
    },
    {
      "CustomActionId": 0,
      "IsMandatory": false,
      "DefaultValue": "sg-12345,sg-6789",
      "Description": "The IDs of the security groups you want to assign to the instance\nFor example: sg-12345,sg-6789 (comma seperated).",
      "Name": "Security Group ID",
      "Value": "sg-12345,sg-6789",
      "Type": 0,
      "OptionalValues": null,
      "OptionalValuesJson": null,
      "Id": 0,
      "CreationTimeUnixTimeInMs": 1609172479093,
      "ModificationTimeUnixTimeInMs": 1609172479093
    }
  ],
  "DefaultResultValue": "",
  "PythonVersion": "None",
  "Id": 0,
  "IsAsync": true,
  "CreationTimeUnixTimeInMs": 1609172479083,
  "ModificationTimeUnixTimeInMs": 1609172479087
}